(function(n){n.fn.autoResize=function(t){var i=n.extend({onResize:function(){},animate:!0,animateDuration:10,animateCallback:function(){},extraSpace:0,limit:120},t);return this.filter("textarea").each(function(){var t=n(this).css({resize:"none","overflow-y":"auto"}),e=t.height(),r=function(){var i={};return n.each(["height","width","lineHeight","textDecoration","letterSpacing"],function(n,r){i[r]=t.css(r)}),t.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(i).attr("tabIndex","-1").insertBefore(t)}(),f=null,u=function(){r.height(0).val(n(this).val()).scrollTop(1e4);var u=Math.max(r.scrollTop(),e)+i.extraSpace,o=n(this).add(r);if(f!==u){if(f=u,u>=i.limit){n(this).css("overflow-y","");return}i.onResize.call(this),i.animate&&t.css("display")==="block"?o.stop().animate({height:u},i.animateDuration,i.animateCallback):o.height(u)}};t.unbind(".dynSiz").bind("keyup.dynSiz",u).bind("keydown.dynSiz",u).bind("change.dynSiz",u)}),this}})(jQuery)